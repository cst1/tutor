<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Computerphile Notes</title>
    <link href="style.css" type="text/css" rel="stylesheet">
    <script src="../res/tp/jquery-3.3.1.js" type="text/javascript"></script>
    <script src="episodes.js" type="text/javascript"></script>
  </head>
  <body>
    <h1>Computerphile Notes</h1>

    <ul>
      <li> <a href="https://www.youtube.com/channel/UC9-y-6csu5WGm29I7JiwpnA"
              target="_blank">YouTube Channel</a> </li>
      <li> <a href="https://www.youtube.com/user/Computerphile/videos?flow=grid&view=0&sort=da"
              target="_blank">Sorted Video List</a> </li>
    </ul>

    <!-- Table populated from entries in `episodes.js` -->
    <table class="listing"></table>

  </body>
  <script>
    const youtubeUrl = v => 'https://www.youtube.com/watch?v=' + v;

    const makeRow = (n, data) => {
      let tr = $('<tr></tr>');
      tr.append(`<td> ${n}. </td>`)
        .append(`<td> <a href="${youtubeUrl(data.v)}"
          target="_blank">${data.t}</a> </td>`)
        .append(`<td> ${data.d} </td>`)
        .append(`<td> ${data.n} </td>`);
      return tr;
    };

    $(document).ready(function () {
      const listing = $('.listing');
      let item = 1;
      computerphile.forEach(data => {
        listing.append(makeRow(item++, data));
      });
    });
  </script>
</html>
